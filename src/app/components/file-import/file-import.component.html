<div class="file-import-container">
  <h2><i class="fas fa-file-import"></i> Import PDF Files</h2>
  <div class="drop-area" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)" (click)="fileInput.click()">
    <p><i class="fas fa-cloud-upload-alt"></i> Drag and drop your PDF files here or click to select files</p>
    <input type="file" #fileInput accept="application/pdf" (change)="onFileSelected($event)" hidden />
    <label class="file-label"><i class="fas fa-folder-open"></i> Select Files</label>
  </div>
  <div class="file-name" *ngIf="selectedFileName">
    <p>Selected File: <strong>{{ selectedFileName }}</strong></p>
  </div>
  <div class="button-group">
    <label for="select-type" class="select-type-label"><i class="fas fa-tags"></i> Select Type:</label>
    <select id="select-type" [(ngModel)]="selectedType" class="select-type">
      <option *ngFor="let type of types" [value]="type">{{ type }}</option>
    </select>
    <div class="semester-input">
      <label for="semester" class="semester-label"><i class="fas fa-calendar-alt"></i> Semester: (ki2-2023-2024)</label>
      <input type="text" id="semester" [(ngModel)]="semester" placeholder="ki2-2023-2024" class="semester-field" />
    </div>
    <div class="button-group-fake">
      <button (click)="onComplete()" class="action-button complete-button"><i class="fas fa-check"></i> Complete</button>
      <button (click)="onUpdate()" class="action-button update-button"><i class="fas fa-sync-alt"></i> Update</button>
    </div>
  </div>
  <div class="progress-container" *ngIf="requests.length > 0">
    <div *ngIf="currentRequestIndex < requests.length">
      <div class="progress-item">
        <div class="progress-label">Request {{ currentRequestIndex + 1 }}: {{ this.currentStatus }}</div>
        <div class="progress-bar-container">
          <div class="progress-bar" [style.width]="this.progress + '%'"></div>
        </div>
        <div *ngIf="requests[currentRequestIndex]?.completed" class="checkmark">
          <i class="fas fa-check"></i> Completed
        </div>
      </div>
    </div>
  </div>



  <div class="progress-percentage">{{ this.progress }}%</div>
  <div class="preview-area">
    <h3><i class="fas fa-eye"></i> Preview</h3>
    <div id="preview">
      <pdf-viewer *ngIf="pdfSrc" [src]="pdfSrc" [render-text]="true" [original-size]="false" style="width: 100%; height: 100%;"></pdf-viewer>
    </div>
  </div>
</div>
